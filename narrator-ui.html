<!-- Reusable UI template injected by content.js -->
<template id="narrator-ui-template">
  <div style="padding: 12px;">
    <!-- Progress bar (always visible) -->
    <div id="progressSection" style="margin-bottom: 12px;">
      <div id="progressText" style="font-size: 12px; color: rgb(91, 112, 131); margin-bottom: 4px; text-align: left;">Not started</div>
      <div id="progressBarTrack" style="width: 100%; height: 4px; background-color: rgb(61, 81, 100); border-radius: 2px; overflow: hidden;">
        <div id="progressBarFill" style="width: 0%; height: 100%; background-color: rgb(29, 155, 240); transition: width 0.3s ease;"></div>
      </div>
    </div>

    <!-- Playback buttons (always visible) -->
    <div id="playbackButtons" style="display: flex; gap: 8px; margin-bottom: 12px; justify-content: space-evenly;"></div>

    <!-- Separator 1: Between play segment and settings segment (always visible) -->
    <div id="separator1" style="margin-bottom: 12px;"></div>

    <!-- Segment 2: Settings (always visible - either button or panel) -->
    <div id="openSettingsButton" style="margin-bottom: 12px;"></div>

    <!-- Settings panel (hidden by default) -->
    <div id="settingsSection" style="display: none;">
      <!-- Endpoint setting -->
      <div style="margin-bottom: 12px;">
        <div style="font-size: 12px; color: rgb(91, 112, 131); margin-bottom: 4px;">Endpoint</div>
        <input id="apiUrl" type="text" placeholder="API URL" value="http://localhost:8000" style="width: 100%;">
      </div>

      <!-- Voice setting -->
      <div style="margin-bottom: 12px;">
        <div style="font-size: 12px; color: rgb(91, 112, 131); margin-bottom: 4px;">Voice</div>
        <select id="voice" style="width: 100%;">
          <option value="alba">alba</option>
          <option value="marius">marius</option>
          <option value="javert">javert</option>
          <option value="jean">jean</option>
          <option value="fantine">fantine</option>
          <option value="cosette">cosette</option>
          <option value="eponine">eponine</option>
          <option value="azelma">azelma</option>
        </select>
      </div>

      <!-- Copy/Open buttons (hidden for now) -->
      <div id="copyOpenButtons" style="display: none;"></div>

      <!-- Save and Debug Log buttons on same line -->
      <div id="saveAndDebugButtons" style="display: flex; gap: 8px; margin-top: 12px; justify-content: space-evenly;">
        <div id="saveSettingsButton" style="flex: 1;"></div>
        <div id="debugLogButton" style="flex: 1;"></div>
      </div>
    </div>

    <!-- Separator 2: Between settings segment and debug log segment (hidden by default) -->
    <div id="debugLogSeparator" style="display: none; margin-bottom: 12px;"></div>

    <!-- Segment 3: Debug log (hidden by default) -->
    <div id="out" style="display: none; margin-bottom: 12px; height: 150px; overflow-y: auto; white-space: pre-wrap; word-wrap: break-word;"></div>
  </div>
</template>
